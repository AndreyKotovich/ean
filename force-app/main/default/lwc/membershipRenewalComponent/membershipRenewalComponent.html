<template>
	<p>Membership Renewal Component (Under Development)</p>

	<template if:true={_isSpinner}>
		<div class="slds-spinner_container" style="position: fixed">
			<lightning-spinner alternative-text="Loading" variant="brand" size="large"></lightning-spinner>
		</div>
	</template>

	<template if:false={_isSpinner}>
		<template if:true={_isError}>
			<div class="slds-text-heading_large slds-align_absolute-center slds-text-color_error">{_errorMessage}</div>
		</template>

		<template if:false={_isError}>
			<div class="slds-grid slds-align_absolute-center">
				<div class="slds-col slds-size_2-of-3">

					<lightning-card class="slds-m-around_small">
					<div class="slds-p-left_xx-large slds-p-right_xx-large">

						<!-- STEP 1 -->
						<template if:true={_isStep1}>
							<!-- <div slot="title"> -->
							<div style="color: #007DC6; font-size: 16px; font-weight: bolder;">
							<!-- <div class="slds-p-left_xx-large slds-p-right_xx-large" style="color: #007DC6; font-size: 16px; font-weight: bolder;"> -->
								<div style="display: inline-block;">Please review / enter your data (STEP 1 DELETE LABEL)</div>
								<div style="float: right;">
									<div style="display: inline-block; margin-right: 10px;">Renewal Fee:</div>
									<div style="display: inline-block;"><lightning-formatted-number value={_totalRenewalFee} format-style="currency" currency-code="EUR"></lightning-formatted-number></div>
								</div>
								<!-- <div>Membership Category: {_membershipName}</div> -->
							</div>

							<!-- <div class="slds-p-left_xx-large slds-p-right_xx-large"> -->
								<lightning-input name="category" type="text" label="Membership Category" value={_membershipName} disabled></lightning-input>
								<lightning-combobox name="salutation" label="Salutation" options={_availableSalutations} onchange={handleChangeSalutation} value={_formSalutation}></lightning-combobox>
								<lightning-input name="firstName" type="text" label="First Name" value={_formFirstName} disabled required></lightning-input>
								<lightning-input name="lastName" type="text" label="Last Name" value={_formLastName} disabled required></lightning-input>
								<lightning-input name="nominalTitle" type="text" label="Post-nominal Title(s)" onchange={handleChangeTitle} value={_formPostNominalTitle} placeholder="" max-length="255"></lightning-input>

								<template if:true={_enableEditFromDateOfBirth}>
									<lightning-input name="dateOfBirth" type="date" label="Date of birth" onchange={handleChangeDateOfBirth} value={_formDateOfBirth} placeholder="" required></lightning-input>
								</template>
								<template if:false={_enableEditFromDateOfBirth}>
									<lightning-input name="dateOfBirth" type="date" label="Date of birth" value={_formDateOfBirth} placeholder="" disabled required></lightning-input>
								</template>

								<lightning-combobox name="gender" label="Gender" options={_availableGenders} onchange={handleChangeGender} required value={_formGender}></lightning-combobox>
								<lightning-input name="email" type="email" label="Email" onchange={handleChangeEmail} value={_formEmail} placeholder="" max-length="80" required></lightning-input>
								<lightning-combobox name="nationality" label="Nationality" options={_availableNationalities} onchange={handleChangeNationality} required value={_formNationality}></lightning-combobox>
								<lightning-combobox name="country" label="Country of Residence" options={_availableCountryOfResidences} onchange={handleChangeCountry} required value={_formCountryOfResidence}></lightning-combobox>
								<lightning-input name="street" type="text" label="Street" onchange={handleChangeStreet} value={_formStreet} placeholder="" max-length="255" required></lightning-input>
								<lightning-input name="zipPostalCode" type="text" label="ZIP/Postal code" onchange={handleChangeZipPostalCode} value={_formZipPostalCode} placeholder="" max-length="20" required></lightning-input>
								<lightning-input name="city" type="text" label="City" onchange={handleChangeCity} value={_formCity} placeholder="" max-length="80" required></lightning-input>
								<lightning-input name="phone" type="text" label="Phone number" onchange={handleChangePhone} value={_formPhoneNumber} placeholder="" max-length="20"></lightning-input>

								<br/>
								<p>DO NOT DISPLAY Retired checkbox ???</p>
								<lightning-input name="phone" type="checkbox" label="I am Retired" onchange={handleChangePhone} value={_formPhoneNumber} placeholder="" max-length="20"></lightning-input>
								<br/>
								<p>DO NOT DISPLAY Terms and Conditions checkbox ???</p>
								<!-- <div class="slds-grid slds-gutters slds-text-align_left slds-m-around_small"> -->
								<div class="slds-grid slds-text-align_left" style="margin-left: -8px;">
									<div><lightning-input type="checkbox" label="" name="terms" required> </lightning-input></div>
									<div>
										<p>I agree to the <a href="https://membership-application.ean.org/?module=terms" target="_blank">EAN Terms and Conditions for EAN online membership application and payment</a>.</p>
									</div>
								</div>
								<br/>
								<!-- <button name="membership-submit-button" class="slds-button slds-button_brand slds-align_absolute-center" disabled="disabled" onclick={handleClickNextButtonStep1}>Submit</button> -->
								<button name="button-next-step-one" class="slds-button slds-button_brand slds-float_right" disabled="disabled" onclick={handleClickNextButtonStep1}>Next</button>
								<br/>
								<br/>
							<!-- </div> -->
						</template>

						<!-- STEP 2 -->
						<template if:true={_isStep2}>
							<p>STEP 2 {_currentContactId}</p>
							<!-- <div class="slds-p-left_xx-large slds-p-right_xx-large"> -->
								<div class="slds-box slds-box_xx-small slds-m-left_xx-small slds-m-right_xx-small slds-m-top_small" style="background-color: rgb(233, 234, 236)">
									<br/>
									<template if:true={_displayDateOfGraduation}>
										<lightning-input name="dateOfGraduation" type="date" label="Date of Graduation" onchange={handleChangeDateOfGraduation} value={_dateOfGraduation} placeholder=""
											required title="Please indicate the actual or expected date of graduation for your most recent degree.">
										</lightning-input>
									</template>
									<template if:true={_displayLicenseIssued}>
										<lightning-input name="licenseIssuedDate" type="date" label="License issued" onchange={handleChangeLicenseIssued} value={_licenseIssuedDate} placeholder=""
											required title="Please indicate the actual or expected date of issue of the license to practice medicine.">
										</lightning-input>
									</template>
									<br/>
								</div>
							<!-- </div> -->

							<!-- <div class="slds-p-left_xx-large slds-p-right_xx-large"> -->
								<div class="slds-grid slds-grid_vertical">
									<div class="slds-col slds-m-bottom_small slds-m-top_x-small">
										<span style="color: rgb(105, 105, 105);">Please upload <u>your updated CV</u> and the following documents, based on your membership selection:</span>
									</div>
									<div class="slds-col">
										<div class="slds-grid slds-grid_vertical">
											<div class="slds-col slds-m-bottom_xx-small">
												<div>EAN Resident & Research Membership application:</div>
												<ul class="slds-list_dotted" style="color: rgb(105, 105, 105);">
													<li>an official confirmation/certification of your ongoing training in neurology or PhD studies in English
													</li>
												</ul>
											</div>
											<div class="slds-col slds-m-bottom_xx-small">
												<div>Student Membership:</div>
												<ul class="slds-list_dotted" style="color: rgb(105, 105, 105);">
													<li>a cover letter detailing your important achievements and a list of publications (WHAT TEXT ?)
													</li>
												</ul>
											</div>
										</div>
									</div>
								</div>
							<!-- </div> -->

							<div class="slds-align_absolute-center">
								<div class="slds-grid slds-grid_vertical">
									<div class="slds-col slds-align_absolute-center">
										<lightning-file-upload label="Attachments"
															   name="fileUploader"
															   accept={acceptedFormats}
															   record-id={_currentContactId}
															   onuploadfinished={handleUploadFinished} multiple>
										</lightning-file-upload>
									</div>
									<div if:true={_showPillUploadedFiles} class="slds-col slds-align_absolute-center">
										<div title="pill-container">
											<lightning-pill-container items={_uploadedFilesPills} onitemremove={handleRemoveFilePill} ></lightning-pill-container>
										</div>
									</div>
								</div>
							</div>

						</template>

						<!-- STEP 3 -->
						<template if:true={_isStep3}>
							<p>STEP 3</p>
						</template>

					</div>
					</lightning-card>
				</div>
			</div>
		</template>
	</template>

</template>